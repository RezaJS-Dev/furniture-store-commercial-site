/*
 JS Persian Calendar

 @version 0.2.2
 @created on 2013 July 18 - 27 Tir 1392 
 @updated on 2025 April 23 - 3 Ordibehesht 1404
 @licence GPL

 @author Amir Masoud Irani( AMIB )
 amibct@gmail.com
 https://amib.ir/weblog
*/
if("undefined"===typeof AMIB)var AMIB={};
var lastOpenPDatePicker=!1,lastOpenPDateMonthYearID=!1,pDatePickerZIndex=9999,PERSIAN_MONTH_NAMES="\u0641\u0631\u0648\u0631\u062f\u06cc\u0646 \u0627\u0631\u062f\u0628\u06cc\u0647\u0634\u062a \u062e\u0631\u062f\u0627\u062f \u062a\u06cc\u0631 \u0645\u0631\u062f\u0627\u062f \u0634\u0647\u0631\u06cc\u0648\u0631 \u0645\u0647\u0631 \u0622\u0628\u0627\u0646 \u0622\u0630\u0631 \u062f\u06cc \u0628\u0647\u0645\u0646 \u0627\u0633\u0641\u0646\u062f".split(" "),PERSIAN_SHORT_WEEKDAY_NAMES="\u0634 \u06cc\u06a9 \u062f\u0648 \u0633\u0647 \u0686\u0647 \u067e\u0646 \u062c\u0645".split(" ");
if("function"!==typeof fdef)var fdef=function(a){return"function"===typeof a};if(!fdef(A$))var A$=function(a){return document.getElementById(a)};if(!fdef(A$$))var A$$=function(a,b){return a.getElementsByTagName(b)};if(!fdef(cE))var cE=function(a){return document.createElement(a)};if(!fdef(cTN))var cTN=function(a){return document.createTextNode(a)};
AMIB.persianCalendar=function(a,b){var c={inputID:"",extraInputID:"",extraInputFormat:"JD",initialDate:"",defaultDate:"",autoCreateButton:!0,divPickerClassName:"picker",btnClassName:"pcalBtn",onchange:!1},d;this.getOption=function(a){return c[a]};this.oldDocumentOnClick=!1;this.enabled=!0;this.inputID=a;this.input=A$(a);for(d in b)d in c?c[d]=b[d]:alert(d.toString()+" option is not supported");c.defaultDate instanceof Array||(c.defaultDate=isPersianDate(c.defaultDate));a=this.input;c.autoCreateButton&&
(b=cE("a"),b.className=c.btnClassName,b.href="#",a.parentNode.insertBefore(b,a.nextSibling),b.onclick=function(a){return function(b){a.showHidePicker(b);return!1}}(this));a.ondblclick=function(a){return function(b){a.showHidePicker(b);return!1}}(this);a.onblur=function(a){return function(){a.normalizeUserInput()}}(this);addEvt(a,"keydown",function(a){return function(b){a.keyDownHandler(b,a)}}(this));c.initialDate&&this.fillDateField(c.initialDate)};
AMIB.persianCalendar.prototype.showHidePicker=function(a){var b=this.inputID+"_pDatePicker",c;if(c=A$(b)){if(c.parentNode.removeChild(c),document.onclick=this.oldDocumentOnClick,lastOpenPDatePicker=this.oldDocumentOnClick=!1,a=A$(lastOpenPDateMonthYearID))a.parentNode.removeChild(a),lastOpenPDateMonthYearID=!1}else if(!0===this.enabled){var d=this.input;c=cE("div");c.id=b;c.className=this.getOption("divPickerClassName");this.createDateTable(c,d.value,d.value);document.body.appendChild(c);this.setMenuPos(c,
d);c.style.zIndex=lastOpenPDatePicker?++pDatePickerZIndex:pDatePickerZIndex=9999;"undefined"===typeof a&&(a=window.event);lastOpenPDatePicker&&lastOpenPDatePicker.showHidePicker(a);lastOpenPDatePicker=this;a.stopPropagation();this.oldDocumentOnClick=document.onclick;document.onclick=function(a,b){return function(){a.showHidePicker(b)}}(this,a)}};
AMIB.persianCalendar.prototype.createDateTable=function(a,b,c){var d=cE("table"),f;var g=this.getOption("defaultDate");var k=new Date;var e=gregorianToJD(k.getFullYear(),k.getMonth()+1,k.getDate());k=jdToPersian(e);(b=isPersianDate(b))?b=persianToJD(b[0],b[1],b[2]):g?(b=persianToJD(g[0],g[1],g[2]),c=g.join("/")):b=e;c=isPersianDate(c);b=jdToPersian(b);var m=Math.floor(persianToJD(b[0],b[1],1)+3)%7;var h=d.insertRow(-1);g=h.insertCell(-1);g.className="pickerHead";g.colSpan=7;h=cE("div");h.className=
"navBack";e=cE("a");e.appendChild(cTN("\u00ab"));e.title="\u0633\u0627\u0644 \u0642\u0628\u0644";e.className="nav";e.href="#";e.onclick=function(a,b,c){return function(d){a.changePickerDate(d,b,c);return!1}}(this,b[0]-1,b[1]);h.appendChild(e);e=cE("a");e.appendChild(cTN("<"));e.title=PERSIAN_MONTH_NAMES[1==b[1]?11:b[1]-2];e.className="nav";e.href="#";e.onclick=function(a,b,c){return function(d){a.changePickerDate(d,b,c);return!1}}(this,1==b[1]?b[0]-1:b[0],1==b[1]?12:b[1]-1);h.appendChild(e);g.appendChild(h);
h=cE("div");h.className="navFwd";e=cE("a");e.appendChild(cTN("\u00bb"));e.title="\u0633\u0627\u0644 \u0628\u0639\u062f";e.className="nav";e.href="#";e.onclick=function(a,b,c){return function(d){a.changePickerDate(d,b,c);return!1}}(this,b[0]+1,b[1]);h.appendChild(e);e=cE("a");e.appendChild(cTN(">"));e.title=PERSIAN_MONTH_NAMES[12==b[1]?0:b[1]];e.className="nav";e.href="#";e.onclick=function(a,b,c){return function(d){a.changePickerDate(d,b,c);return!1}}(this,12==b[1]?b[0]+1:b[0],12==b[1]?1:b[1]+1);
h.appendChild(e);g.appendChild(h);e=cE("a");e.className="monYear";e.appendChild(cTN(PERSIAN_MONTH_NAMES[b[1]-1]));e.href="#";e.onclick=function(a,b,c){return function(d){a.showMonthPicker(d,b,c);return!1}}(this,b[1],b[0]);g.appendChild(e);e=cE("a");e.className="monYear";e.appendChild(cTN(enDigitsToFa(b[0])));e.href="#";e.onclick=function(a,b,c){return function(d){a.showYearPicker(d,b,c);return!1}}(this,b[1],b[0]);g.appendChild(e);h=d.insertRow(-1);var l=0;for(f=PERSIAN_SHORT_WEEKDAY_NAMES.length;l<
f;++l)g=h.insertCell(-1),g.appendChild(cTN(PERSIAN_SHORT_WEEKDAY_NAMES[l])),g.className="calWeekdays";h=d.insertRow(-1);for(l=0;l<m;++l)g=h.insertCell(-1);l=m;for(f=persianMonthDays(b[0],b[1])+m;l<f;++l)0==l%7&&(h=d.insertRow(-1)),g=h.insertCell(-1),e=cE("a"),e.href="#",b[2]=l-m+1,e.className="weekday",6==l%7&&(e.className+=" friday"),c&&b[2]==c[2]&&b[1]==c[1]&&b[0]==c[0]&&(e.className+=" selected"),b[2]==k[2]&&b[1]==k[1]&&b[0]==k[0]&&(e.className+=" today",e.title+="\u0627\u0645\u0631\u0648\u0632"),
e.onclick=function(a,b){return function(){a.fillDateField(b);return!1}}(this,b.join("/")),e.appendChild(cTN(enDigitsToFa(b[2]))),g.appendChild(e);l=0;for(f=7-(persianMonthDays(b[0],b[1])+m)%7;7!=f&&l<f;++l)g=h.insertCell(-1);h=d.insertRow(-1);g=h.insertCell(-1);g.className="pickerFoot";g.colSpan=7;e=cE("a");e.appendChild(cTN(enDigitsToFa("\u0627\u0645\u0631\u0648\u0632: "+k[2].toString()+" "+PERSIAN_MONTH_NAMES[k[1]-1].toString()+" "+k[0].toString())));e.href="#";b[2]=l-m+1;e.onclick=function(a,b){return function(){a.fillDateField(b);
return!1}}(this,k.join("/"));for(g.appendChild(e);a.firstChild;)a.removeChild(a.firstChild);a.appendChild(d)};AMIB.persianCalendar.prototype.changePickerDate=function(a,b,c){var d;if(d=A$(this.inputID+"_pDatePicker"))a||(a=window.event),a.stopPropagation(),a=b.toString()+"/"+c.toString()+"/1",this.createDateTable(d,a,this.input.value)};
AMIB.persianCalendar.prototype.showMonthPicker=function(a,b,c){var d,f;if(A$(this.inputID+"_pDatePicker")){a||(a=window.event);(f=A$(lastOpenPDateMonthYearID))&&f.parentNode.removeChild(f);a.stopPropagation();f=cE("div");f.className="monthYearPicker";f.id=lastOpenPDateMonthYearID=this.inputID+"monthYearPicker";for(d=0;12>d;++d){var g=cE("a");g.href="#";g.appendChild(cTN(PERSIAN_MONTH_NAMES[d]));d==b-1&&(g.className="selected");g.onclick=function(a,b,c){return function(d){a.monthYearPickerClick(d,
b,c);return!1}}(this,d+1,c);f.appendChild(g)}document.body.appendChild(f);this.setMenuPos(f,a.target||a.srcElement);f.style.zIndex=++pDatePickerZIndex}};
AMIB.persianCalendar.prototype.showYearPicker=function(a,b,c){var d,f;if(A$(this.inputID+"_pDatePicker")){a||(a=window.event);(f=A$(lastOpenPDateMonthYearID))&&f.parentNode.removeChild(f);a.stopPropagation();f=cE("div");f.className="monthYearPicker";f.id=lastOpenPDateMonthYearID=this.inputID+"monthYearPicker";for(d=c-5;d<=c+5;++d){var g=cE("a");g.href="#";g.appendChild(cTN(enDigitsToFa(d)));d==c&&(g.className="selected");g.onclick=function(a,b,c){return function(d){a.monthYearPickerClick(d,b,c);return!1}}(this,
b,d);f.appendChild(g)}document.body.appendChild(f);this.setMenuPos(f,a.target||a.srcElement);f.style.zIndex=++pDatePickerZIndex}};AMIB.persianCalendar.prototype.setMenuPos=function(a,b){var c=getOffset(b);0>c.top-a.offsetHeight||getScrollTop()+getViewPortHeight()>c.top+b.offsetHeight+a.offsetHeight?a.style.top=c.top+b.offsetHeight+"px":a.style.top=c.top-a.offsetHeight+"px";c=getOffset(b);a.style.left=c.left+b.offsetWidth-a.offsetWidth+"px"};
AMIB.persianCalendar.prototype.monthYearPickerClick=function(a,b,c){var d,f;if(d=A$(this.inputID+"_pDatePicker"))a||(a=window.event),a.stopPropagation(),(f=A$(lastOpenPDateMonthYearID))&&f.parentNode.removeChild(f),lastOpenPDateMonthYearID=!1,a=c.toString()+"/"+b.toString()+"/1",this.createDateTable(d,a,this.input.value)};
AMIB.persianCalendar.prototype.normalizeUserInput=function(){var a=this.input,b,c=a.value.trim();c=faDigitsToEn(c);(b=isPersianDate(c))?this.fillDateField(b):(b=removeCssClass(a.className,"valid"),b=removeCssClass(b,"invalid"),""!==c&&(b+=" invalid"),a.className=b,this.getOption("extraInputID").length&&(A$(this.getOption("extraInputID")).value=""),fdef(this.getOption("onchange"))&&this.getOption("onchange")(!1))};
AMIB.persianCalendar.prototype.fillDateField=function(a){var b=this.input;a=a instanceof Array?a:isPersianDate(a);b.value=a.join("/");var c=removeCssClass(b.className,"invalid");c=removeCssClass(c,"valid");b.className=c+" valid";this.getOption("extraInputID").length&&this.getOption("extraInputFormat").length&&(b=this.getOption("extraInputFormat"),b=b.replace(/yyyy/g,zeroPad(a[0],4)),b=b.replace(/mm/g,zeroPad(a[1],2)),b=b.replace(/dd/g,zeroPad(a[2],2)),b=b.replace(/yy/g,zeroPad(a[0]%100,2)),b=b.replace(/m/g,
a[1].toString()),b=b.replace(/d/g,a[2].toString()),c=persianToJD(a[0],a[1],a[2]),b=b.replace(/JD/g,c),c=jdToGregorian(c),b=b.replace(/YYYY/g,zeroPad(c[0],4)),b=b.replace(/MM/g,zeroPad(c[1],2)),b=b.replace(/DD/g,zeroPad(c[2],2)),b=b.replace(/YY/g,zeroPad(c[0]%100,2)),b=b.replace(/M/g,c[1].toString()),b=b.replace(/D/g,c[2].toString()),A$(this.getOption("extraInputID")).value=b);fdef(this.getOption("onchange"))&&this.getOption("onchange")(a.slice(0))};
AMIB.persianCalendar.prototype.keyDownHandler=function(a,b){a||(a=window.event);if(a.keyCode)var c=a.keyCode;else if(a.which)c=a.which;else return!1;if(!(48<=c&&57>=c||96<=c&&105>=c||191===c||111===c||8===c||9===c||13===c||46===c||109===c||35===c||36===c||37===c||39===c))if(38===c||40===c){var d=isPersianDate(b.input.value);!1!==d&&(38===c?b.fillDateField(jdToPersian(persianToJD(d[0],d[1],d[2])+1)):40===c&&b.fillDateField(jdToPersian(persianToJD(d[0],d[1],d[2])-1)),b.input.select(),a.preventDefault())}else a.ctrlKey||
a.preventDefault()};
function isPersianDate(a){if(0==a.search(/^\d+\-\d+\-\d+$/))var b=a.split("-",3);else if(0==a.search(/^\d+\/\d+\/\d+$/))b=a.split("/",3);else if(0==a.search(/^\d{6}|\d{8}$/))b=[a.substr(0,a.length-4),a.substr(a.length-4,2),a.substr(a.length-2,2)];else if((b=a.match(/^(\d{2})(\d{2})$/))||(b=a.match(/^(\d{1,2})[\/\-](\d{1,2})$/))||(b=a.match(/^(\d{1,2})$/)))a=new Date,a=gregorianToJD(a.getFullYear(),a.getMonth()+1,a.getDate()),a=jdToPersian(a),b[0]=a[0],"undefined"==typeof b[2]&&(b[2]=a[1]),12>=parseInt(b[2],
10)&&(a=b[1],b[1]=b[2],b[2]=a);else return!1;for(a=0;2>=a;++a)b[a]=parseInt(b[a],10);if(12<b[1]||0>=b[1])return!1;b[2]>persianMonthDays(longYear(b[0]),b[1])&&(a=b[2],b[2]=b[0],b[0]=a);if(9999<b[0])return!1;100>b[0]&&(b[0]=longYear(b[0]));return 0===b[2]||b[2]>persianMonthDays(b[0],b[1])?!1:b}var PERSIAN_EPOCH=1948320.5,TROPICAL_YEAR=365.24219878;if(!fdef(mod))var mod=function(a,b){return a-b*Math.floor(a/b)};function leapPersian(a){return 365<persianToJD(a+1,1,1)-persianToJD(a,1,1)}
function jdToUnix(a){return Math.floor(86400*(a-2440587.5))}function unixToJD(a){return a/86400+2440587.5}function tehranEquinoxJD(a){a=tehranEquinox(a);return Math.floor(a)}function tehranEquinox(a){var b=equinox(a,0);return b-deltat(a)/86400+equationOfTime(b)+52.5/360}function persianYear(a){var b=jdToGregorian(a)[0]-2,c,d;for(c=tehranEquinoxJD(b);c>a;)b--,c=tehranEquinoxJD(b);for(d=c-1;!(c<=a&&a<d);)c=d,b++,d=tehranEquinoxJD(b);return[Math.round((c-PERSIAN_EPOCH)/TROPICAL_YEAR)+1,c]}
function dtr(a){return a*Math.PI/180}function rtd(a){return 180*a/Math.PI}function fixangle(a){return a-360*Math.floor(a/360)}
var nutArgMult=[0,0,0,0,1,-2,0,0,2,2,0,0,0,2,2,0,0,0,0,2,0,1,0,0,0,0,0,1,0,0,-2,1,0,2,2,0,0,0,2,1,0,0,1,2,2,-2,-1,0,2,2,-2,0,1,0,0,-2,0,0,2,1,0,0,-1,2,2,2,0,0,0,0,0,0,1,0,1,2,0,-1,2,2,0,0,-1,0,1,0,0,1,2,1,-2,0,2,0,0,0,0,-2,2,1,2,0,0,2,2,0,0,2,2,2,0,0,2,0,0,-2,0,1,2,2,0,0,0,2,0,-2,0,0,2,0,0,0,-1,2,1,0,2,0,0,0,2,0,-1,0,1,-2,2,0,2,2,0,1,0,0,1,-2,0,1,0,1,0,-1,0,0,1,0,0,2,-2,0,2,0,-1,2,1,2,0,1,2,2,0,1,0,2,2,-2,1,1,0,0,0,-1,0,2,2,2,0,0,2,1,2,0,1,0,0,-2,0,2,2,2,-2,0,1,2,1,2,0,-2,0,1,2,0,0,0,1,0,-1,1,0,0,
-2,-1,0,2,1,-2,0,0,0,1,0,0,2,2,1,-2,0,2,0,1,-2,1,0,2,1,0,0,1,-2,0,-1,0,1,0,0,-2,1,0,0,0,1,0,0,0,0,0,0,1,2,0,-1,-1,1,0,0,0,1,1,0,0,0,-1,1,2,2,2,-1,-1,2,2,0,0,-2,2,2,0,0,3,2,2,2,-1,0,2,2],nutArgCoeff=[-171996,-1742,92095,89,-13187,-16,5736,-31,-2274,-2,977,-5,2062,2,-895,5,1426,-34,54,-1,712,1,-7,0,-517,12,224,-6,-386,-4,200,0,-301,0,129,-1,217,-5,-95,3,-158,0,0,0,129,1,-70,0,123,0,-53,0,63,0,0,0,63,1,-33,0,-59,0,26,0,-58,-1,32,0,-51,0,27,0,48,0,0,0,46,0,-24,0,-38,0,16,0,-31,0,13,0,29,0,0,0,29,0,-12,
0,26,0,0,0,-22,0,0,0,21,0,-10,0,17,-1,0,0,16,0,-8,0,-16,1,7,0,-15,0,9,0,-13,0,7,0,-12,0,6,0,11,0,0,0,-10,0,5,0,-8,0,3,0,7,0,-3,0,-7,0,0,0,-7,0,3,0,-7,0,3,0,6,0,0,0,6,0,-3,0,6,0,-3,0,-6,0,3,0,-6,0,3,0,5,0,0,0,-5,0,3,0,-5,0,3,0,-5,0,3,0,4,0,0,0,4,0,0,0,4,0,0,0,-4,0,0,0,-4,0,0,0,-4,0,0,0,3,0,0,0,-3,0,0,0,-3,0,0,0,-3,0,0,0,-3,0,0,0,-3,0,0,0,-3,0,0,0,-3,0,0,0];
function nutation(a){var b;var c=(a-2451545)/36525;a=[];var d=0,f=0,g;var k=c*(b=c*c);a[0]=dtr(297.850363+445267.11148*c-.0019142*b+k/189474);a[1]=dtr(357.52772+35999.05034*c-1.603E-4*b-k/3E5);a[2]=dtr(134.96298+477198.867398*c+.0086972*b+k/56250);a[3]=dtr(93.27191+483202.017538*c-.0036825*b+k/327270);a[4]=dtr(125.04452-1934.136261*c+.0020708*b+k/45E4);for(b=0;5>b;b++)a[b]=fixangr(a[b]);k=c/10;for(b=0;63>b;b++){for(c=g=0;5>c;c++)0!=nutArgMult[5*b+c]&&(g+=nutArgMult[5*b+c]*a[c]);d+=(nutArgCoeff[4*
b]+nutArgCoeff[4*b+1]*k)*Math.sin(g);f+=(nutArgCoeff[4*b+2]+nutArgCoeff[4*b+3]*k)*Math.cos(g)}return[d/36E6,f/36E6]}
function sunpos(a){var b=(a-J2000)/JulianCentury;var c=b*b;var d=fixangle(280.46646+36000.76983*b+3.032E-4*c);var f=fixangle(357.52911+35999.05029*b+-1.537E-4*c);var g=.016708634+-4.2037E-5*b+-1.267E-7*c;c=(1.914602+-.004817*b+-1.4E-5*c)*dsin(f)+(.019993-1.01E-4*b)*dsin(2*f)+2.89E-4*dsin(3*f);var k=d+c;var e=f+c;var m=1.000001018*(1-g*g)/(1+g*dcos(e));var h=125.04-1934.136*b;b=k+-.00569+-.00478*dsin(h);var l=obliqeq(a);h=l+.00256*dcos(h);a=rtd(Math.atan2(dcos(l)*dsin(k),dcos(k)));a=fixangle(a);l=
rtd(Math.asin(dsin(l)*dsin(k)));var n=rtd(Math.atan2(dcos(h)*dsin(b),dcos(b)));n=fixangle(n);h=rtd(Math.asin(dsin(h)*dsin(b)));return[d,f,g,c,k,e,m,b,a,l,n,h]}var oterms=[-4680.93,-1.55,1999.25,-51.38,-249.67,-39.05,7.12,27.87,5.79,2.45];function obliqeq(a){var b,c;var d=b=(a-J2000)/(100*JulianCentury);a=23+26/60+21.448/3600;if(1>Math.abs(b))for(c=0;10>c;c++)a+=oterms[c]/3600*d,d*=b;return a}
var deltaTtab=[121,112,103,95,88,82,77,72,68,63,60,56,53,51,48,46,44,42,40,38,35,33,31,29,26,24,22,20,18,16,14,12,11,10,9,8,7,7,7,7,7,7,8,8,9,9,9,9,9,10,10,10,10,10,10,10,10,11,11,11,11,11,12,12,12,12,13,13,13,14,14,14,14,15,15,15,15,15,16,16,16,16,16,16,16,16,15,15,14,13,13.1,12.5,12.2,12,12,12,12,12,12,11.9,11.6,11,10.2,9.2,8.2,7.1,6.2,5.6,5.4,5.3,5.4,5.6,5.9,6.2,6.5,6.8,7.1,7.3,7.5,7.6,7.7,7.3,6.2,5.2,2.7,1.4,-1.2,-2.8,-3.8,-4.8,-5.5,-5.3,-5.6,-5.7,-5.9,-6,-6.3,-6.5,-6.2,-4.7,-2.8,-.1,2.6,5.3,
7.7,10.4,13.3,16,18.2,20.2,21.1,22.4,23.5,23.8,24.3,24,23.9,23.9,23.7,24,24.3,25.3,26.2,27.3,28.2,29.1,30,30.7,31.4,32.2,33.1,34,35,36.5,38.3,40.2,42.2,44.5,46.5,48.5,50.5,52.2,53.8,54.9,55.8,56.9,58.3,60,61.6,63,65,66.6];function deltat(a){if(1620<=a&&2E3>=a){var b=Math.floor((a-1620)/2);b=deltaTtab[b]+(deltaTtab[b+1]-deltaTtab[b])*((a-1620)/2-b)}else b=(a-2E3)/100,948>a?b=2177+497*b+44.1*b*b:(b=102+102*b+25.3*b*b,2E3<a&&2100>a&&(b+=.37*(a-2100)));return b}
var J2000=2451545,JulianCentury=36525,JulianMillennium=10*JulianCentury,AstronomicalUnit=149597870;function equationOfTime(a){var b=(a-J2000)/JulianMillennium;var c=fixangle(280.4664567+360007.6982779*b+.03032028*b*b+b*b*b/49931+-(b*b*b*b/15300)+-(b*b*b*b*b/2E6));b=sunpos(a)[10];var d=nutation(a)[0];a=obliqeq(a)+nutation(a)[1];a=c+-.0057183+-b+d*dcos(a);a-=20*Math.floor(a/20);return a/1440}function dtr(a){return a*Math.PI/180}function fixangr(a){return a-2*Math.PI*Math.floor(a/(2*Math.PI))}
function dsin(a){return Math.sin(dtr(a))}function dcos(a){return Math.cos(dtr(a))}
var EquinoxpTerms=[485,324.96,1934.136,203,337.23,32964.467,199,342.08,20.186,182,27.85,445267.112,156,73.14,45036.886,136,171.52,22518.443,77,222.54,65928.934,74,296.72,3034.906,70,243.58,9037.513,58,119.81,33718.147,52,297.17,150.678,50,21.02,2281.226,45,247.54,29929.562,44,325.15,31555.956,29,60.93,4443.417,18,155.12,67555.328,17,288.79,4562.452,16,198.04,62894.029,14,199.76,31436.921,12,95.39,14577.848,12,287.11,31931.756,12,320.81,34777.259,9,227.73,1222.114,8,15.45,16859.074],JDE0tab1000=[[1721139.29189,
365242.1374,.06134,.00111,-7.1E-4],[1721233.25401,365241.72562,-.05323,.00907,2.5E-4],[1721325.70455,365242.49558,-.11677,-.00297,7.4E-4],[1721414.39987,365242.88257,-.00769,-.00933,-6E-5]],JDE0tab2000=[[2451623.80984,365242.37404,.05169,-.00411,-5.7E-4],[2451716.56767,365241.62603,.00325,.00888,-3E-4],[2451810.21715,365242.01767,-.11575,.00337,7.8E-4],[2451900.05952,365242.74049,-.06223,-.00823,3.2E-4]];
function equinox(a,b){var c,d,f;if(1E3>a){var g=JDE0tab1000;a/=1E3}else g=JDE0tab2000,a=(a-2E3)/1E3;b=g[b][0]+g[b][1]*a+g[b][2]*a*a+g[b][3]*a*a*a+g[b][4]*a*a*a*a;g=(b-2451545)/36525;a=35999.373*g-2.47;a=1+.0334*dcos(a)+7E-4*dcos(2*a);for(c=d=f=0;24>c;c++)f+=EquinoxpTerms[d]*dcos(EquinoxpTerms[d+1]+EquinoxpTerms[d+2]*g),d+=3;return b+1E-5*f/a}
function jdToPersian(a){a=Math.floor(a)+.5;var b=persianYear(a)[0];var c=Math.floor(a)-persianToJD(b,1,1)+1;c=186>=c?Math.ceil(c/31):Math.ceil((c-6)/30);a=Math.floor(a)-persianToJD(b,c,1)+1;return[b,c,a+.5]}function persianToJD(a,b,c){var d;var f=PERSIAN_EPOCH-1+TROPICAL_YEAR*(a-1-1);for(d=[a-1,0];d[0]<a;)d=persianYear(f),f=d[1]+(TROPICAL_YEAR+2);return d[1]+(7>=b?31*(b-1):30*(b-1)+6)+(c+.5-1)}function leapGregorian(a){return 0===a%4&&!(0===a%100&&0!==a%400)}var GREGORIAN_EPOCH=1721425.5;
function jdToGregorian(a){a=Math.floor(a-.5)+.5;var b=a-GREGORIAN_EPOCH;var c=Math.floor(b/146097);var d=mod(b,146097);b=Math.floor(d/36524);var f=mod(d,36524);d=Math.floor(f/1461);f=mod(f,1461);f=Math.floor(f/365);c=400*c+100*b+4*d+f;4!=b&&4!=f&&c++;b=a-gregorianToJD(c,1,1);d=a<gregorianToJD(c,3,1)?0:leapGregorian(c)?1:2;month=Math.floor((12*(b+d)+373)/367);day=a-gregorianToJD(c,month,1)+1;return[c,month,day]}
function gregorianToJD(a,b,c){return GREGORIAN_EPOCH-1+365*(a-1)+Math.floor((a-1)/4)+-Math.floor((a-1)/100)+Math.floor((a-1)/400)+Math.floor((367*b-362)/12+(2>=b?0:leapGregorian(a)?-1:-2)+c)}function longYear(a){if(100<=a)return a;var b=new Date;b=gregorianToJD(b.getFullYear(),b.getMonth()+1,b.getDate());b=jdToPersian(b);var c=100*Math.floor(b[0]/100);70<Math.abs(b[0]-c-a)&&(c+=100);return c+a}function persianMonthDays(a,b){return 6>=b?31:11>=b?30:12==b?leapPersian(a)?30:29:0}
if(!fdef(faDigitsToEn))var faDigitsToEn=function(a){var b=a.length,c="",d;for(d=0;d<b;++d)c+=String.fromCharCode(1776<=a.charCodeAt(d)&&1785>=a.charCodeAt(d)?a.charCodeAt(d)-1728:a.charCodeAt(d));return c};if(!fdef(enDigitsToFa))var enDigitsToFa=function(a){a=a.toString();var b=a.length,c="",d;for(d=0;d<b;++d)c+=String.fromCharCode(48<=a.charCodeAt(d)&&57>=a.charCodeAt(d)?a.charCodeAt(d)+1728:a.charCodeAt(d));return c};
if(!fdef(removeCssClass))var removeCssClass=function(a,b){return a.split(/\s+/).map(function(a){return a===b?"":a}).join(" ")};if(!fdef(getOffset))var getOffset=function(a){for(var b=0,c=0;a&&!isNaN(a.offsetLeft)&&!isNaN(a.offsetTop);)b+=a.offsetLeft,c+=a.offsetTop,a=a.offsetParent;return{top:c,left:b}};if(!fdef(zeroPad))var zeroPad=function(a,b){var c=Math.abs(a);b=Math.pow(10,Math.max(0,b-Math.floor(c).toString().length)).toString().substr(1);0>a&&(b="-"+b);return b+c};
if(!fdef(getViewPortHeight))var getViewPortHeight=function(){return"undefined"!=typeof window.innerWidth?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:document.body.clientHeight};
if(!fdef(getScrollTop))var getScrollTop=function(a){var b=0;if("undefined"!==typeof a){for(;(a=a.parentNode)&&"BODY"!==a.nodeName&&"undefined"!==typeof a.scrollTop;)b+=a.scrollTop;return b}if("undefined"!==typeof pageYOffset)return pageYOffset;a=document.body;D=document.documentElement;D=D.clientHeight?D:a;return D.scrollTop};if(!fdef(addEvt))var addEvt=function(a,b,c){a.addEventListener(b,c,!1)};
